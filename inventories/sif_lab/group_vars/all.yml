---
# Control debug level
global_debug: true

ocp_version: 3.9

# Nutanix Cluster Settings
api_version: "3.0"
cluster_url: 172.20.58.100
api_url_v3: "https://{{ cluster_url }}:9440/api/nutanix/v3"
prism_user: "admin"
prism_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61633163353738633566663562333065653033626533626362653836653933656434343963366634
          3365613566393566636162653162363561376666303235330a303232316365386639346136356539
          31393030656432363631666436356439613464303937383039616161666230306632313962326537
          6662623531316237360a623163303538633037306163323661346332663730643633313662646539
          3331


# Global VM Settings
cluster_name: "SIFUNTNXR430-CL1"
subnet_name: "OCP_Net"
image_name: "RHEL 7.5 KVM Cloud Image Non-STIG May 2018"

# VM Specs
# Disk specs here are close, but not exact yet
# Ram size is in MiB

vm_defs_repo:
  # RPM Repository
  -  {vm_name: "{{ vm_repository_hostname }}", vm_ip: '172.20.58.116', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 256000]}


vm_defs_tower:
  # Ansible Tower
  -  {vm_name: ansible-tower-01, vm_ip: '172.20.58.117', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 153600]}
  -  {vm_name: ansible-tower-02, vm_ip: '172.20.58.118', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 153600]}
  -  {vm_name: ansible-tower-03, vm_ip: '172.20.58.119', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 153600]}
  -  {vm_name: ansible-tower-db, vm_ip: '172.20.58.120', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 153600]}

vm_defs_ocp:
  # masters
  -  {vm_name: ocp-master-01, vm_ip: '172.20.58.121', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76294]}
  -  {vm_name: ocp-master-02, vm_ip: '172.20.58.122', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76294]}
  -  {vm_name: ocp-master-03, vm_ip: '172.20.58.123', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76294]}
  # infra nodes
  -  {vm_name: ocp-infra-01, vm_ip: '172.20.58.124', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 512000]}
  -  {vm_name: ocp-infra-02, vm_ip: '172.20.58.125', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 512000]}
  -  {vm_name: ocp-infra-03, vm_ip: '172.20.58.126', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 512000]}
  # app nodes
  -  {vm_name: ocp-node-01, vm_ip: '172.20.58.127', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400]}
  -  {vm_name: ocp-node-02, vm_ip: '172.20.58.128', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400]}
  -  {vm_name: ocp-node-03, vm_ip: '172.20.58.129', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400]}
  -  {vm_name: ocp-node-04, vm_ip: '172.20.58.130', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400]}
  # Gluster CNS Nodes
  -  {vm_name: ocp-cns-01, vm_ip: '172.20.58.131', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}
  -  {vm_name: ocp-cns-02, vm_ip: '172.20.58.132', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}
  -  {vm_name: ocp-cns-03, vm_ip: '172.20.58.133', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}

vm_defs_cns:
  # Gluster CNS Nodes
  -  {vm_name: ocp-cns-01, vm_ip: '172.20.58.131', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}
  -  {vm_name: ocp-cns-02, vm_ip: '172.20.58.132', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}
  -  {vm_name: ocp-cns-03, vm_ip: '172.20.58.133', vm_ram: 20480, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}

vm_defs_bastion:
-  {vm_name: ansible-bastion, vm_ip: '172.20.58.3', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 153600]}

vm_defs_lbs:
  # masters lbs
  -  {vm_name: ocp-lb-01, vm_ip: '172.20.58.134', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}
  -  {vm_name: ocp-lb-02, vm_ip: '172.20.58.135', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}
  # infras lbs
  -  {vm_name: ocp-lb-03, vm_ip: '172.20.58.136', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}
  -  {vm_name: ocp-lb-04, vm_ip: '172.20.58.137', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}

# Virtual IP assignments
masters_lbs_vip: '172.20.58.99'
infras_lbs_vip: '172.20.58.115'

# Cloud-init values
vm_net_dns:
  - 172.16.0.190
  - 172.16.0.192
vm_net_ntpservers:
  - 10.10.10.10
vm_net_cidr: "24"
vm_net_gateway: "172.20.58.1"
vm_net_domain: "soc.sif.mil"
vm_repository_hostname: "repository"
vm_repository_fqdn: "{{ vm_repository_hostname }}.{{ vm_net_domain }}"
vm_yum_repos:
  - reponame: "local_fast_datapath"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-fast-datapath-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Fast Datapath Repository"
  - reponame: "local_server_extras"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-extras-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Server Extras Repository"
  - reponame: "local_ose_3.9"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-ose-3.9-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 OSE 3.9 Repository"
  - reponame: "local_server"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Server Repository"
  - reponame: "local_server_ansible"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-ansible-2.5-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Server Ansible Repository"
  - reponame: "local_server_gluster"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rh-gluster-3-client-for-rhel-7-server-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RH Gluster 3 for RHEL 7 Server"
  - reponame: "local_server_epel"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/epel"
    enabled: false
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} EPEL for RHEL 7 Server"

cloud_init_root_pass: "$6$Xl1ZmNV4$fRga35Ib6Z4NSjV1HTURuQB8ONGBLr58wcyhuHsob10Rz2BbbCfQnuEaU0GSLO2xPGfY61qPfx6lJ/OkQPoaT/"

ansible_ssh_public_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDsTf9tpGd5GXLjB6cYPkePEBO+5rYcvtm5ABWZgycjCKs4BAkHcFMz2kLyUGJoUZZb8148d2uor3WEEex7cSWoVDCfjP9j4Pet3y/ZCrPItC5E4KPSxJ41WJSo/azzlnr2lHEx8QlossQOQML5ILZo4cQ5nBC2berketQLxd48LqKuFk8tybk5yfceBKX5cJw20T0N6JzNVJVba4aWTawdPTKb4JTSHZjjktJvZDCWel9SAXX0tP/TmmmQmmUhux6RGpj4SBvk/wJqBzN1pMwih/5Ir1Z6GWuhnhjIobFhgUyrj2v/7TFnAs8gSgg5dfjpZcf6q4U8JiwI/lr5BPih ansible@repository"
ansible_ssh_private_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32323864323833366565363162346134646466626137643761633639353365393039653536383636
          6237306434663232393338636464313831646531333336620a323166336530366334353166396364
          65333637663432393133663134303062343031653032656335363938306434653766336137613065
          3436393732663736340a306434313238393066383861626430313839396335303038303764303637
          62323764623537636336393934616365653936373762376530333331306165326635656233663362
          30323065306364386562356137383038613738346130396565326433616662376334623965626465
          38636663636634623963613333616663393933653630343739376166396530383665663361303534
          30353766343730343134313030386530303265626162303632313939303735363532323735623531
          66363338313462663035343464386534653431643432646231383661393334653430663237366630
          33343931303736336230633134633835313734303961376334313438303235653131653033623261
          34646431353430323234323162396165643433623531303730623532643665643334313633643833
          62633831616537393966666461313163616562633937303533386164336234356136313663653731
          34376230633165396164386665663132373939633465666362396436343061643763656365393737
          37666630643130663662653438343431323933333539666630393237303063623337353266636634
          64663564393736336665333437366233613034646337303963323164393365643638663333386338
          30303935636334626665646239353962316237386333623664353466643364353936306634333061
          30396465616162386563363635343738306334656337303263623438353733613461653866636431
          66643739356161663261626436363963343936326163633035373137396464626663313337386465
          34643761666333366538666366613862393338363235343539363234663133656239646636663031
          33393861343631353164653365316266656432316464626431326561653831336562373666393636
          64346234386131306233633130663534643638383236623466656437623530393637643038643039
          30313636383762313563356264386565356333363362393030333739323261633662386563373035
          62363631656361303039313261356230326231343333363963306333386336663734363065333637
          31626230616530613434373863383235616263306134303035303561396532636232663066613738
          36303738633136323664346561346636313931643661363364643537376537326239356464643461
          31356331313339333737386461373935666536316534323832313962306632306462396331623538
          36333464666530396130316531306364616135393665636634656465363962353731653334663230
          62626462623966653433653239346465623838363066616235303631306639616136343031383437
          64643731333332306462333636383665363936316537373737396164613735313337643439653163
          66376236643630623933393736373263323463393261633733653338383736346638623565376366
          37613263346266323864376630363632613965636338616232386433383932306463333433313133
          33613039383062333731363235663266316330646464326562386338353764303564623362663639
          62366433343033333933396235326130333339303032396262353564376638303163633764376139
          61623038636634643637633931353433363734616130636432613263616432643738633933346631
          65663664323739323865306261626635363136633136303337363362336638366535386563666330
          63626434333238393661343636653062646333303566373466626662383036626533333932313939
          66373461616361316637613137373461393163666261666363396563336261346331376137306361
          37613634363765353135663030346535313862333336646166323164663239396432353437376230
          61383066346638343434343836363034356338366636313437393036643335623834323136663837
          38303336636530366432343333323634383233336565313938633066653833323736373436313736
          31633366613433376263396135396461623232333764396636303637316662383562383837336262
          66393837643330626632613430656431343862353230366465396136613661393231613732303364
          30366135356239313063303636303564393766356635663466313562643837356562303563653238
          31653036366439346133373534366362393737616665363534383166306639303464613361656634
          65373363613435666165396438643763623861326532316635653662373861643466393137366364
          37643131303431383535616536323336326265653765663564363962356261353264613265376565
          63653633336432333462393435663266326333346331333561626461353466393663363432613538
          63306261336533373563393663656330656563616534396337353335303463386335636265343935
          63373139303237633238386366353036616138316562646634323765393462623364616265393235
          65316266396336616133643365656566323864616362626134346536333836303734643962613637
          31626336343337383266363131636531636264353032326135346636303539333734376635633063
          65333432326639313634643461623634363834386135653363376237316466613037353535643038
          33663866626233353266303166303466633431313363633334623233346330323130623133613164
          64663832333262623563616163626632323038323964343736333461363334623063396638393538
          31383537316534373366343136623032353331353238623931633339363333326639613264666262
          35643163343930386666646461626331376464326333663063316537393530313936333063356266
          61663732376561323836366638363963636230643439363062323034323462333538643833376365
          66663465663030663737363563643138353130313731613764386330666338306664323466396138
          66303634313162396366643264336261316338303938333666663039373932306462613566353631
          64363666653266653331623966313263363434393966323237623636313334393035663365363934
          31343933653835303936376466663033323231303466383364356339316433346463353230623932
          30373233643531386438353132316366653033333834663763646136633331316365653833393231
          36363566386539636232643466343466333862663565383264323961333462303930313666366138
          61623931376135336462366337653663303439363664343133336539316363646339383430656537
          37373866313038666463626362323566313639633831323461363765326164613633633365666435
          37363666303335626666366434343865636433633434313563633333623139666339346434343331
          62313138633639623865616432373638363134616334323533363161393935376465363265306233
          32633461383863373036343536396333363530363337326465323266636536336266393836333133
          63613965313439613663343961346263313335613435646566633439323065343061316664326464
          32623765386239303931636661303962633962353137313262626461396630663730646137363030
          35326534383563353330343832366337313430386535663430633132313738383639386338656662
          61656234616563623534383536613433636134623135383066373966356261323739396362373564
          36616432653831613964613130306337626338383662303465363363663135303539386631383264
          63346466666265353761616531656538663864366264646461646636613538396531363939323664
          65616639336631653032653732303032393865343836363132376333383433323461646537663635
          38623665643134356362346133636163636136383364376261303938386465303433333764383330
          65366335383733646133303038323766303539396163393234383730376565336461323065646639
          66323039333839613330373261326464636338623361323265393037383537383266346639613832
          39346263396564663537666365323836343238373561363362616139343561326163666361333861
          63353361373032616561306237663930316133663636643866353465316535366337636162353130
          31373138333162393661623830343134383734323535393166326365653366653835333865613833
          36323161383033363434386263326566653165393064326465333035333131306639333532646566
          63383462643566623062623564653662353538643639653231393238653539366334373037383839
          64333364613534623736366433616462363338346332373433363338333165623830363766343435
          66346538333634336139333533346362383038653733616537363038363835323166373737616665
          36393538386438366137306135636466623530333038303861393165613335346336616438636463
          30303731653934323965666564333336376136373563656337343765373663666533353233313533
          38353866366466623365

