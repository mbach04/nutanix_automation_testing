---
# Control debug level
global_debug: true

ocp_version: 3.9

# Nutanix Cluster Settings
api_version: "3.0"
cluster_url: 172.29.170.95
api_url_v3: "https://{{ cluster_url }}:9440/api/nutanix/v3"
prism_user: "admin"
prism_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61353531326365626238393865396438383833643936336161383336326235303965316531666366
          6361363262393961363063613464633364363335653138310a333162383838346537383661636430
          38393837303539336433393466396366353661633134323535363133646362663066366131333435
          3566623534653836300a313339353463336463316136303434346266313431636336363065626231
          3036


# Global VM Settings
cluster_name: "SOFATL"
subnet_name: "VMtest"
image_name: "RHEL Server 7.5 KVM Guest May 2018 Update"


# VM Specs
# Disk specs here are close, but not exact yet
# Ram size is in MiB

vm_defs_repo:
  # RPM Repository
  # -  {vm_name: repository, vm_ip: '172.29.171.100', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 143051]}
  -  {vm_name: repository, vm_ip: '172.29.171.100', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 143051]}
  -  {vm_name: "{{ vm_repository_hostname }}", vm_ip: '172.29.171.200', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 256000]}


vm_defs_tower:
  # Ansible Tower
  -  {vm_name: labs-ansible-tower-01, vm_ip: '172.29.171.210', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 2, vm_disk_list: [disk_size_mib: 153600]}
  -  {vm_name: labs-ansible-tower-02, vm_ip: '172.29.171.211', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 2, vm_disk_list: [disk_size_mib: 153600]}
  -  {vm_name: labs-ansible-tower-03, vm_ip: '172.29.171.212', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 2, vm_disk_list: [disk_size_mib: 153600]}
  -  {vm_name: labs-ansible-tower-db, vm_ip: '172.29.171.216', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 2, vm_disk_list: [disk_size_mib: 153600]}

vm_defs_ocp:
  # masters
  -  {vm_name: labs-ocp-master-01, vm_ip: '172.29.171.217', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76294]}
  -  {vm_name: labs-ocp-master-02, vm_ip: '172.29.171.218', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76294]}
  -  {vm_name: labs-ocp-master-03, vm_ip: '172.29.171.219', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76294]}
  # infra nodes
  -  {vm_name: labs-ocp-infra-01, vm_ip: '172.29.171.220', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 512000]}
  -  {vm_name: labs-ocp-infra-02, vm_ip: '172.29.171.221', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 512000]}
  -  {vm_name: labs-ocp-infra-03, vm_ip: '172.29.171.222', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 6, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 512000]}
  # app nodes
  -  {vm_name: labs-ocp-node-01, vm_ip: '172.29.171.223', vm_ram: 16384, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}
  -  {vm_name: labs-ocp-node-02, vm_ip: '172.29.171.224', vm_ram: 16384, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}
  -  {vm_name: labs-ocp-node-03, vm_ip: '172.29.171.225', vm_ram: 16384, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}
  -  {vm_name: labs-ocp-node-04, vm_ip: '172.29.171.226', vm_ram: 16384, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 102400, disk_size_mib: 768000]}

vm_defs_lbs:
  # masters lbs
  -  {vm_name: labs-ocp-lb-01, vm_ip: '172.29.171.201', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}
  -  {vm_name: labs-ocp-lb-02, vm_ip: '172.29.171.202', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}
  # infras lbs
  -  {vm_name: labs-ocp-lb-03, vm_ip: '172.29.171.203', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}
  -  {vm_name: labs-ocp-lb-04, vm_ip: '172.29.171.204', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 76800]}

vm_defs_quay:
  -  {vm_name: labs-quay-lb-01, vm_ip: '172.29.171.144', vm_ram: 4096, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 56294]}
  -  {vm_name: labs-quay-01, vm_ip: '172.29.171.145', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 381471, disk_size_mib: 56294]}
  -  {vm_name: labs-quay-02, vm_ip: '172.29.171.146', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 381471, disk_size_mib: 56294]}
  -  {vm_name: labs-quay-03, vm_ip: '172.29.171.147', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 381471, disk_size_mib: 56294]}
  -  {vm_name: labs-quay-builder-01, vm_ip: '172.29.171.149', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 381471, disk_size_mib: 56294]}
  -  {vm_name: labs-clair-01, vm_ip: '172.29.171.148', vm_ram: 8192, vm_num_cpu_per_socket: 1, vm_num_sockets: 4, vm_disk_list: [disk_size_mib: 56294]}
  

# Virtual IP assignments
masters_lbs_vip: '172.29.171.205'
infras_lbs_vip: '172.29.171.206'

# Quay vars
quay_image: 'repo-labs.ocplabs.dell.local:5000/quay.io/coreos/quay:v2.9.2'
quay_registry_auth: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62363538633038613533643261313735316537386663623166373037646262373734656364633933
          3239633365646338663562643438336331306263303334660a353361356463363937376564633334
          39323166363864363431353434343063613164626661333534306238383239383138623834636161
          3833313038313562620a623436363838316339316662373838373538323962643037633863343932
          62343861396665353536333735323035336531303032363866636138336237333235646530376632
          35323033313234393037313631393365653630303963306632386232653532346462336562613161
          64376433323835623063393462303835313062363166613835666563633230393534623063336534
          38353934323463333661
quay_registry_email: no-reply@ocplabs.dell.local
database_type: postgresql
docker_install: true
quay_hostname: quay.ocplabs.dell.local
quay_database_type: postgresql
database_name: quay
database_username: quay
database_password: quay
database_admin_username: root
database_admin_password: quayadmin
postgresql_port: 5432
redis_port: 6379
quay_http_port: 8081
quay_https_port: 8444
quay_superuser_username: quayadmin
quay_superuser_password: quayquay
quay_superuser_email: no-reply@ocplabs.dell.local
quay_ssl_local_tmp_dir: /tmp/local
docker_local_registry: repo-labs.ocplabs.dell.local:5000
# docker_local_registry: quay.ocplabs.dell.local

# Clair Vars
clair_image: repo-labs.ocplabs.dell.local:5000/quay.io/coreos/clair-jwt:v2.0.4
quay_enterprise_address: https://quay.ocplabs.dell.local
clair_address: http://labs-clair-01.ocplabs.dell.local

# Cloud-init values
vm_net_dns:
  - 172.29.170.51
vm_net_ntpservers:
  - 172.29.170.51
vm_net_cidr: "24"
vm_net_gateway: "172.29.171.1"
vm_net_domain: "ocplabs.dell.local"
vm_repository_hostname: "repo-labs"
vm_repository_fqdn: "{{ vm_repository_hostname }}.{{ vm_net_domain }}"
vm_yum_repos:
  - reponame: "local_fast_datapath"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-fast-datapath-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Fast Datapath Repository"
  - reponame: "local_server_extras"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-extras-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Server Extras Repository"
  - reponame: "local_ose_3.9"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-ose-3.9-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 OSE 3.9 Repository"
  - reponame: "local_server"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Server Repository"
  - reponame: "local_server_ansible"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rhel-7-server-ansible-2.5-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RHEL 7 Server Ansible Repository"
  - reponame: "local_server_gluster"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/rh-gluster-3-client-for-rhel-7-server-rpms"
    enabled: true
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} RH Gluster 3 for RHEL 7 Server"
  - reponame: "local_server_epel"
    baseurl: "http://{{ vm_repository_fqdn }}/repos/yum/epel"
    enabled: false
    failovermethod: priority
    gpgcheck: false
    name: "{{ cluster_name }} EPEL for RHEL 7 Server"

cloud_init_root_pass: "$6$AodRG0tDjFaSk8v.$cyGXYtf8ZCUrVRqNLrWhSJh9PS7G9tsnxjff26mlyuXMAP/.u8PFqgp6Cw579ny4HO8Bh7WTfwaIw/4Ph9CKc0"

ansible_ssh_public_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIk0aYn5zx2klk/lCEtN383Og5KwLh+SBt0EeUjx3aczWKAI06pcsbfH/Wg00zFQEhtgaUMeCeQG//3Yxp6cDyy9jIhrqNdZ9WcfhElXRx1zK373mhO3uOxl3bzV/GN9IyLWt8maGz3BKLASN4GMMtrq6IG7QfXGc7pphiaKjJlJ9sHBia+6QMkOlir3Mot0/TvpLGKEFRid/WsPK34vMHLfjKTzXR+xLuyNz8g0qxt9UnM/3ygV5o95Gdf7RhyukmOfcOiW2OYGSec2gy5qEjpvRAu1x/+Yc5hGfG+emQXJVCk55UuuJElzJXT0pp+3rdZuK3dkUyAkENCtWtkT/7"
ansible_ssh_private_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36386632396663653163316162356638636132613962666462363132363134336664656639336535
          3838626433316231326631653762366632306662393238360a653966336530356139643565343137
          65336664663535373061663930323464643133656264373764356137393432373730656130653832
          6464383064336432390a303432383563346261613862393834333564623131616232643230623834
          32643031643066363034346537636431353966663366336231333961623333346264323434653330
          62653161363733383533613864346431396336643163306336613032366131646331393063653638
          61616536333966626335633363326566663661363861316266393133663034323131353865623035
          65653862343562646633326139666239376232616332373063366336366431343738346634343834
          62323633343164616564306663643566363062633364326162653530613863396239643739376337
          30613730643530643036353132306333353132316531346233363632343163663533643035613661
          65633363306130623234343737646165653262373331646266333935396634373130326234306539
          30653261323237633136343061376532333033343562306539653234616332303166376334393439
          36393139366663396232623538386131346666653763386463303261396332646366376661306662
          39386562306566356236366663656264343531366336343439643162303466623038376134356536
          36626231613132343865343062663836356630383232633763666163323664343333353837343030
          38396366316537663737323734626332346662313232653233346531333535663638343831373164
          33636134643633343163656561633966393130366533303166386664333765636538303733336138
          36636639306530316330363764643134386234313539396532646332643330306538653737336531
          36653436643938623361336430646236616161636535396537666139373939396238633235353766
          39393235373462396437366635346161643764363735346266363664396439376134623535643361
          34613765396331356562323234353866326438376134316637623466333266376664626239333134
          37353630386365373938323236303263326231636134613934663665353032633064653834613433
          31303439393539383435646634393430306231336265376134636536633463656564383961356663
          39393539396461653665363633363534366164333538393033353635666138643062643161633763
          65303263663631376334343737653031333564316235373461363965393432326136663336616230
          31323737646532626535313135653130393336643665313131303030343566386332333963393138
          39306431643239376430333534333132623365323531663636373233353135373632323461613566
          37306365393666306461333231383138646265623539616464333239643131383230623539323032
          63326661323837353863653733373766346535326365313030656263656233663731303963633635
          33653630393863393765376439316264383731356462366233613534323036633737623062373036
          35373361386232333836346639653737636363363037623330383035363931393530323764363063
          64346662373837346364366536376233383763636634373432316239346131323639383262353565
          30343533396230353038333435373465643534636634623634623566633339633664623464353463
          33313432653533346234306138383661653837623239663332666562336138366132373732663930
          36653566393930616430356436363839356238336464393331333363636239353236666232386264
          33393163623533376264346335653630373665623932316666373539303338663637633734623565
          34383964386363623562343836353138653734633563373235326364663336366366646661663439
          64346565663462363938363837643535663239333535646532313964393037313439336638346666
          64306663653266343935343730623635393136363432373830363834393938353561373236373437
          30393838643039333032623863316232346138643435323463346132323161623837333866663763
          30356166383738386439383133346136333036633135356436313861303036336562613431626138
          34343232623333633039353539313861633534313561383963613534636565346634313133353632
          37393938386231343163356539623466346435396261303062306531313361396164343131396631
          39623632616539333364393963643530613461386461346634623665323866363437653737333236
          30626366323763303137656363353433363037373839363666373437363161363033376239363532
          63366664393435633531663264356330353635316134303238636438666232346661656466613263
          34323135643131363661643966663136303063303863383736353864616666623131626237326330
          66313436316432653662343337663230383162633962353961616562383331303163336539303461
          65303933316239326430636239636639383265353534363536646530653033633765306161653139
          39383633653465333135643830646133326532666566623537666134343338343039626239666630
          62646163346565343463626538613962626435363765346537613131363738306232343731653835
          36306530663066633766373331653031633332343535376434326561626338353533653535653535
          35653831363334316266313536623931303163356266343865316333393863353663643333666665
          36616430313637373738623139376434373132383431353731633739376464353332643936373930
          62636537303437323230306535616235366666386466643131346661626436666661346230313461
          62363434343765336639663635323564626463343335656134353534393962643832626437326463
          30363131386563326339373033313539343230616564323038653065316430653435666333353733
          39623532353439626539633437363363373263653834376364333336396436323964623164643961
          37393665363535646566613162653934613363373133336631336638363664336666633034623535
          34656562356363326135633836653663326235643664326162333264353666323732383165616465
          38303333626332373263353332666363343930633562643737656566346164333132643531663235
          64363337633836626631353039303532636438626463353731306638363835666338626631323965
          38613965343131376566613931353035613831393131666430336562313535346136633430643637
          37616665383164646464653366383966383064356538616563643534363939653131666166363735
          39363137393838633133343265623830363438316134366634303862326337636232396631616366
          66356436366266623533626465633531343363346338613932656235633435396330613562343965
          32633539393239366239353866653261336533353866643438333864303738623131343038353963
          63623666613632643864343634666137636239366561353239333035613464316332363832323338
          33396533613032356436653662306534643937633364613236333539636634613539613962663266
          66636661643432383962376134363366666532346236613738333030393539336665633732326561
          34366331363435633466633230643431363630386539313965616539356331303938333430353465
          36393337353733663262313261636561313631663164633031656431666433616538343432396232
          66663632653862396437303263313237373338393266366166393136643438323236356665343333
          35613137336635663137396465396636633430643438313131373736613261613961613537326465
          64656663326134303735313966383064396537613735636239393839663136636234356438643233
          63336466653731663764396635333463346235663134353936626561316637616135383766653430
          37336564396164373539393361343837303432386262306533383565323433333939343464316665
          65386364313663376539306663363435663738313835613663653037623465613333383733306339
          37323865656138376635383237363063373132313966383465343333323962323432386365363066
          61396630623066313564313834646237373661633763326436396539373531653636306530346461
          64616533643663646133616534333534393564666139386134653031346632633164323864306436
          62633138346531383931356665643938366630303132333366386663396462633366616462666238
          32373533313065383834366238393166326434383264376161303634353332383630663863623332
          31366566323133663539613231373434346634303364313538356432373430623363386435393835
          63313862373337333231626361363261386238326538636232303666326237366630643466633136
          37633263653666623666373332356530633231376133333939326638663164366564656163643663
          65306261666563323962613935373135323862636663653437353230643439323030633365333535
          35366436383434363465
